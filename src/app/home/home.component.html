<app-header></app-header>
<div class="users">
    <div class="flex-display title">
        <!-- <input type="text" placeholder="Enter title of the survey..." class="input-field" [(ngModel)] ="config.survey.title" name="title" #title="ngModel" required> -->
        <!-- <div *ngIf="title.invalid && title.touched" class="error-message">Please enter title of the survey.</div> -->
        <!-- <button [class.disabled]="title.invalid" (click)="createResponse=true;">Create survey</button> -->
        
        <button type="button"  class="font-bold" data-toggle="modal" data-target="#myModal" (click)="closedSurvey=false;copySurvey=false;config.survey.title=''">
          <span class="glyphicon glyphicon-plus"></span> New Survey</button>
        <div class="modal fade" id="myModal" role="dialog">
          <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content" *ngIf="!closedSurvey">
              <div class="modal-header mod-head">
                <h4 class="modal-title">Create a new survey</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
              </div>
              <div class="modal-body">
                <label>Survey title</label>
                <input type="text" placeholder="Start typing..." class="input-field" 
                [(ngModel)] ="config.survey.title"  name="title" #title="ngModel" required>
                <div *ngIf="title.invalid && title.touched" class="error-message">Please enter title of the survey.</div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-default" [class.disabled]="title.invalid" data-dismiss="modal"
                 routerLink="/qns" *ngIf="!copySurvey">Create Survey</button>
                 <button type="button" class="btn btn-default" [class.disabled]="title.invalid"
                 *ngIf="copySurvey" data-dismiss="modal" (click)="updateTitle()">Duplicate Survey</button>
              </div>
            </div>
            <div class="modal-content" *ngIf="closedSurvey">
              <div style="background-color:#c3c4c2;">
                <button type="button" class="close" data-dismiss="modal" style="margin-right: 10px;">&times;</button>
              </div>
              <div class="modal-body">                
                <label>Deleted</label>
                <p>Survey is deleted successfully!</p>                
              </div>
            </div>
          </div>
        </div>
    </div>
   <br>
    <div class="lists bg-white">
        <h4 class="center-align">Lists of survey created</h4>
        <!-- <div class="flex-display dynamic" *ngIf="config.allComps.length<=0"> -->
            <!-- <p>No surveys yet!!!. Create your first survey by clicking on New survey tab</p> -->
            <!-- <button type="button"  class="font-bold" data-toggle="modal" data-target="#myModal"><span class="glyphicon glyphicon-plus"></span> Add a New Survey</button> -->
        <!-- </div> -->
            <!-- <div *ngFor="let user of template; let i=index;" class="usersList">
               
                <button (click)="default=true;viewDetail(i);" class="views">{{user.title}}</button>
                <div class="qns-num">
                  <p>Questions: <b>{{user.list.length}}</b></p>
                </div>
                <div class="action dropdown">
                  <a class="btn btn-secondary dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-expanded="false">
                    Action
                  </a>
                
                  <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                    <li><a class="dropdown-item" href="#">Edit survey</a></li>
                    <li><a class="dropdown-item" data-toggle="modal" data-target="#myModal" (click)="duplicateSurvey(i)">duplicate</a></li>
                    <li><a class="dropdown-item" href="#">Close</a></li>
                  </ul>
                </div>
                
            </div> -->
            <div *ngFor="let user of config.allComps; let i=index;" class="usersList">
                <!-- <div>{{user | json}}</div> -->
                <!-- <div (click)="default=false;viewDetail(i);" class="">{{user.title}}</div> -->
              
                  <!-- <p>Questions: <b>{{user.list.length}}</b></p> -->
                  <div class="grey-bg container-fluid">
                    <section id="minimal-statistics">
                      <div class="row datas">
                        <div class="col-xl-3 col-sm-6 col-12"> 
                          <div class="card card-border">
                            <div class="card-content">
                              <div class="card-body">
                                <div class="media d-flex views">
                                  <div (click)="viewDetail(i);" class="align-self-center view1 font-bold">{{user.title}}</div>
                                  <!-- <div class="align-self-center view2">
                                    <i class="icon-pencil primary font-large-2 float-left"></i>
                                  </div> -->
                                  <div class="text-right align-self-center view3">
                                    <p class="font-bold">{{user.list.length}}</p>
                                    <span>Questions</span>
                                  </div>
                        
                                  <div class="align-self-center view4">
                                    <a class="dots" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-expanded="false">
                                      <!-- <svg xmlns="http://www.w3.org/2000/svg" width="30" height="40" fill="currentColor" class="bi bi-three-dots-vertical" viewBox="0 0 16 16">
                                        <path d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>
                                      </svg> -->
                                      <div class="dot">&#xFE19;</div>
                                    </a>
                                  
                                    <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                      <!-- <li><a class="dropdown-item" href="#">Edit survey</a></li> -->
                                      <li><a class="dropdown-item"  data-toggle="modal" data-target="#myModal" (click)="duplicateSurvey(i)">duplicate</a></li>
                                      <li><a class="dropdown-item" *ngIf="!(i==0)" data-toggle="modal" data-target="#myModal" (click)="closeSurvey(i)">delete</a></li>
                                    </ul>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      
                    </section>
                  </div>
                
                  <!-- <div class="qns-num">
                    <div class="align-self-center">
                      <i class="icon-pencil primary font-large-2 float-left"></i>
                    </div>
                    <div class="media-body text-right">
                      <h3>278</h3>
                      <span>Questions</span>
                    </div>
                  </div> -->
             
                <!-- <div class="dropdown">
                  <a class="btn btn-secondary dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-expanded="false">
                    Action
                  </a>
                
                  <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                    <li><a class="dropdown-item" href="#">Edit survey</a></li>
                    <li><a class="dropdown-item"  data-toggle="modal" data-target="#myModal" (click)="duplicateSurvey(i)">duplicate</a></li>
                    <li><a class="dropdown-item" href="#">Close</a></li>
                  </ul>
                </div> -->
                <!-- <button (click)="viewAdmin(i)" class="views">{{user.title}}</button> -->
            </div>
        
    </div>
</div>
<app-footer></app-footer>
